package com.rimv.net {	import flash.media.*;	import flash.net.*;	import flash.events.*;	import flash.display.*;		public class AudioPlayer extends EventDispatcher {		private var _sound:Sound;		private var _channel:SoundChannel;		private var _soundTransform:SoundTransform;		public var myTransform = new SoundTransform();		public var myVolume = new Object();		private var _time:Number;		private var _playing:Boolean;		private var _url:String;		private var _autoPlay:Boolean;		public var _mc:Sprite;		//public var mySprite:MovieClip;		private var address:String;				public function AudioPlayer( auto:Boolean = true ) {			_autoPlay = auto;			_time = 0;			_playing = false;			_url = "";			//this.addEventListener(KeyboardEvent.KEY_DOWN, keyDownHandler);				}					public function load( url:String ):void {			if ( _playing ) {				pause();				_time = 0;							}			_url = url;			_sound = new Sound( new URLRequest( _url ) );			if ( _autoPlay ) {				play();							}			dispatchEvent( new Event( Event.CHANGE ) );					}				public function play():void {			if ( !_playing ) {				_channel = _sound.play( _time, 1 );				_playing = true;				/*				myTransform.volume = 0.05;				_channel.soundTransform = myTransform;				*/			}			dispatchEvent( new Event( Event.CHANGE ) );					}				public function pause():void {			_time = _channel.position;			_channel.stop();			_playing = false;			dispatchEvent( new Event( Event.CHANGE ) );		}						public function keyDownHandler(event:KeyboardEvent = null):void {						if(event.keyCode == 38){								_channel.soundTransform = myTransform;				myTransform.volume + 0.05;				trace("turn the volume up");						}else{				if(event.keyCode == 40){								_channel.soundTransform = myTransform;				myTransform.volume - 0.05;				trace("turn the volume down");							}			}			dispatchEvent( new Event( Event.CHANGE ) );		}						// --- Public Functions ---		public function get is_playing():Boolean {			return _playing;		}				public function get url():String {			return _url;		}	}}