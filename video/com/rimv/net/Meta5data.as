package com.rimv.net {	import flash.events.*;	import com.webdevils.net.XMLLoader;	import com.webdevils.utils.Collection;		public class Meta5data extends EventDispatcher {		private var _collection:Collection;				public function Meta5data() {			_collection = new Collection();						var _xl = new XMLLoader( "playlist.xml" );			_xl.addEventListener( Event.COMPLETE, on_complete );		}				private function on_complete( e:Event ):void {			var item_xml = new XML( e.target.data ).item;						for ( var p in item_xml ) {				// trace( "******** " +  item_xml[p].children()  );				var obj = make_obj_from_xml( item_xml[p].children() );								// trace( "------------------------------" );				var track_collection = new Collection();				var track_xml = item_xml[p].track_list.children();								for ( var q in track_xml ) {					var t = track_xml[q].children();					var track_obj = make_obj_from_xml( t );					track_collection.addElement( track_obj );				}								obj.track_list = track_collection;				_collection.addElement( obj );			}						dispatchEvent( new Event( Event.COMPLETE ) );		}				private function make_obj_from_xml( xml ):Object {			var obj = new Object();			for ( var p in xml ) {				// trace( xml[p].toString() );				obj[ xml[p].name() ] = xml[p].toString();			}			return obj;		}				// **************************************************************		// Public Functions 		public function getCollection():Collection {			return _collection;		}				public function getPlaylist( index:uint ):Object {			return _collection.getItem( index );		}				public function getTrackList( index:uint ):Collection {			return _collection.getItem( index ).track_list;		}					}}